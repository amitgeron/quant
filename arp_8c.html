<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>quant: deps/warpcore/lib/src/arp.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">quant
   &#160;<span id="projectnumber">0.0.18</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_82ce5dd3950c6393668b7cc23fc52b28.html">deps</a></li><li class="navelem"><a class="el" href="dir_63a5f3da5bb346670840ad293d558300.html">warpcore</a></li><li class="navelem"><a class="el" href="dir_f4c0bb2795bdb545195b8a1e3a07cf5b.html">lib</a></li><li class="navelem"><a class="el" href="dir_096e6e3b4888cf9e4ce0fc18373c588c.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">arp.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;arpa/inet.h&gt;</code><br/>
<code>#include &lt;netinet/if_ether.h&gt;</code><br/>
<code>#include &lt;netinet/in.h&gt;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;sys/socket.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;khash.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="warpcore_8h_source.html">warpcore/warpcore.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="arp_8h_source.html">arp.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="backend_8h_source.html">backend.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="eth_8h_source.html">eth.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ip_8h_source.html">ip.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for arp.c:</div>
<div class="dyncontent">
<div class="center"><img src="arp_8c__incl.png" border="0" usemap="#deps_2warpcore_2lib_2src_2arp_8c" alt=""/></div>
<map name="deps_2warpcore_2lib_2src_2arp_8c" id="deps_2warpcore_2lib_2src_2arp_8c">
<area shape="rect" id="node11" href="warpcore_8h.html" title="warpcore/warpcore.h" alt="" coords="735,245,877,272"/><area shape="rect" id="node20" href="arp_8h.html" title="arp.h" alt="" coords="1055,245,1105,272"/><area shape="rect" id="node21" href="backend_8h.html" title="backend.h" alt="" coords="885,171,967,197"/><area shape="rect" id="node24" href="eth_8h.html" title="eth.h" alt="" coords="1192,171,1243,197"/><area shape="rect" id="node25" href="ip_8h.html" title="ip.h" alt="" coords="1361,96,1404,123"/><area shape="rect" id="node13" href="deps_2warpcore_2lib_2include_2warpcore_2config_8h.html" title="warpcore/config.h" alt="" coords="216,320,341,347"/><area shape="rect" id="node14" href="plat_8h.html" title="warpcore/plat.h" alt="" coords="497,320,607,347"/><area shape="rect" id="node16" href="queue_8h.html" title="warpcore/queue.h" alt="" coords="632,320,757,347"/><area shape="rect" id="node17" href="warpcore_2lib_2include_2warpcore_2util_8h.html" title="warpcore/util.h" alt="" coords="365,320,472,347"/><area shape="rect" id="node23" href="udp_8h.html" title="udp.h" alt="" coords="889,320,943,347"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a006a6d732d649728796cfe027e3041d9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arp_8c.html#a006a6d732d649728796cfe027e3041d9">klib_unused</a></td></tr>
<tr class="separator:a006a6d732d649728796cfe027e3041d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab57d1a0513207babcdb2f6a8a8295fae"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structarp__entry.html">arp_entry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arp_8c.html#ab57d1a0513207babcdb2f6a8a8295fae">arp_cache_find</a> (struct <a class="el" href="structw__engine.html">w_engine</a> *<a class="el" href="fuzz_8c.html#a8bedaecc1f0b28f6c3ec357ca967b33a">w</a>, const uint32_t ip)</td></tr>
<tr class="memdesc:ab57d1a0513207babcdb2f6a8a8295fae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the ARP cache entry associated with IPv4 address <code>ip</code>.  <a href="#ab57d1a0513207babcdb2f6a8a8295fae">More...</a><br/></td></tr>
<tr class="separator:ab57d1a0513207babcdb2f6a8a8295fae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5857d8f27a0bcfa2b9dfe8308ac7befb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arp_8c.html#a5857d8f27a0bcfa2b9dfe8308ac7befb">arp_cache_update</a> (struct <a class="el" href="structw__engine.html">w_engine</a> *<a class="el" href="fuzz_8c.html#a8bedaecc1f0b28f6c3ec357ca967b33a">w</a>, const uint32_t ip, const struct ether_addr mac)</td></tr>
<tr class="memdesc:a5857d8f27a0bcfa2b9dfe8308ac7befb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the MAC address associated with IPv4 address <code>ip</code> in the ARP cache.  <a href="#a5857d8f27a0bcfa2b9dfe8308ac7befb">More...</a><br/></td></tr>
<tr class="separator:a5857d8f27a0bcfa2b9dfe8308ac7befb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07cb7432c1d2686ebba35e7f85bd7b42"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arp_8c.html#a07cb7432c1d2686ebba35e7f85bd7b42">arp_is_at</a> (struct <a class="el" href="structw__engine.html">w_engine</a> *const <a class="el" href="fuzz_8c.html#a8bedaecc1f0b28f6c3ec357ca967b33a">w</a>, uint8_t *const <a class="el" href="t_2picotls_8c.html#ac0c4d141c5f6cd347ca3c4d83678c398">buf</a>)</td></tr>
<tr class="memdesc:a07cb7432c1d2686ebba35e7f85bd7b42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modifies the ARP request in <code>buf</code> into a corresponding ARP reply, and sends it.  <a href="#a07cb7432c1d2686ebba35e7f85bd7b42">More...</a><br/></td></tr>
<tr class="separator:a07cb7432c1d2686ebba35e7f85bd7b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad7ca3e847867c4dcc618d034aa42739"><td class="memItemLeft" align="right" valign="top">struct ether_addr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arp_8c.html#aad7ca3e847867c4dcc618d034aa42739">arp_who_has</a> (struct <a class="el" href="structw__engine.html">w_engine</a> *const <a class="el" href="fuzz_8c.html#a8bedaecc1f0b28f6c3ec357ca967b33a">w</a>, const uint32_t dip)</td></tr>
<tr class="memdesc:aad7ca3e847867c4dcc618d034aa42739"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the Ethernet MAC address for target IP address <code>dip</code>.  <a href="#aad7ca3e847867c4dcc618d034aa42739">More...</a><br/></td></tr>
<tr class="separator:aad7ca3e847867c4dcc618d034aa42739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfea277e13c34a07fc16cb4455988d71"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arp_8c.html#adfea277e13c34a07fc16cb4455988d71">arp_rx</a> (struct <a class="el" href="structw__engine.html">w_engine</a> *const <a class="el" href="fuzz_8c.html#a8bedaecc1f0b28f6c3ec357ca967b33a">w</a>, uint8_t *const <a class="el" href="t_2picotls_8c.html#ac0c4d141c5f6cd347ca3c4d83678c398">buf</a>)</td></tr>
<tr class="memdesc:adfea277e13c34a07fc16cb4455988d71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive an ARP packet, and react to it.  <a href="#adfea277e13c34a07fc16cb4455988d71">More...</a><br/></td></tr>
<tr class="separator:adfea277e13c34a07fc16cb4455988d71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b84f8ec20a55f766fcfcb9cd2d0d1e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arp_8c.html#a1b84f8ec20a55f766fcfcb9cd2d0d1e7">free_arp_cache</a> (struct <a class="el" href="structw__engine.html">w_engine</a> *const <a class="el" href="fuzz_8c.html#a8bedaecc1f0b28f6c3ec357ca967b33a">w</a>)</td></tr>
<tr class="memdesc:a1b84f8ec20a55f766fcfcb9cd2d0d1e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the ARP cache entries associated with engine <code>w</code>.  <a href="#a1b84f8ec20a55f766fcfcb9cd2d0d1e7">More...</a><br/></td></tr>
<tr class="separator:a1b84f8ec20a55f766fcfcb9cd2d0d1e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a006a6d732d649728796cfe027e3041d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define klib_unused</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab57d1a0513207babcdb2f6a8a8295fae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structarp__entry.html">arp_entry</a>* arp_cache_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structw__engine.html">w_engine</a> *&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>ip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the ARP cache entry associated with IPv4 address <code>ip</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">w</td><td>Backend engine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ip</td><td>IPv4 address to look up in ARP cache.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to <a class="el" href="structarp__entry.html" title="ARP cache entry. ">arp_entry</a> of <code>ip</code>, or zero. </dd></dl>

</div>
</div>
<a class="anchor" id="a5857d8f27a0bcfa2b9dfe8308ac7befb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arp_cache_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structw__engine.html">w_engine</a> *&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct ether_addr&#160;</td>
          <td class="paramname"><em>mac</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the MAC address associated with IPv4 address <code>ip</code> in the ARP cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">w</td><td>Backend engine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ip</td><td>IPv4 address to update the ARP cache for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mac</td><td>New Ethernet MAC address of <code>ip</code>. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="arp_8c_a5857d8f27a0bcfa2b9dfe8308ac7befb_cgraph.png" border="0" usemap="#arp_8c_a5857d8f27a0bcfa2b9dfe8308ac7befb_cgraph" alt=""/></div>
<map name="arp_8c_a5857d8f27a0bcfa2b9dfe8308ac7befb_cgraph" id="arp_8c_a5857d8f27a0bcfa2b9dfe8308ac7befb_cgraph">
<area shape="rect" id="node2" href="arp_8c.html#ab57d1a0513207babcdb2f6a8a8295fae" title="Find the ARP cache entry associated with IPv4 address ip. " alt="" coords="182,5,293,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a07cb7432c1d2686ebba35e7f85bd7b42"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void arp_is_at </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structw__engine.html">w_engine</a> *const&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Modifies the ARP request in <code>buf</code> into a corresponding ARP reply, and sends it. </p>
<p>Helper function called by <a class="el" href="arp_8c.html#adfea277e13c34a07fc16cb4455988d71" title="Receive an ARP packet, and react to it. ">arp_rx()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">w</td><td>Backend engine. </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer containing an incoming ARP request inside an Ethernet frame </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="arp_8c_a07cb7432c1d2686ebba35e7f85bd7b42_cgraph.png" border="0" usemap="#arp_8c_a07cb7432c1d2686ebba35e7f85bd7b42_cgraph" alt=""/></div>
<map name="arp_8c_a07cb7432c1d2686ebba35e7f85bd7b42_cgraph" id="arp_8c_a07cb7432c1d2686ebba35e7f85bd7b42_cgraph">
<area shape="rect" id="node2" href="backend_8h.html#a3ea12851bfb4f83f0843560797d0241e" title="w_alloc_iov_base" alt="" coords="128,5,253,32"/><area shape="rect" id="node5" href="eth_8h.html#a01df29c04e9962e458497dc6d3ea7da3" title="Return a pointer to the first data byte inside the Ethernet frame in buf. " alt="" coords="155,56,227,83"/><area shape="rect" id="node6" href="eth_8c.html#a81ff5f8f32f3f31da0fa707ebbb69b1b" title="Places an Ethernet frame into a TX ring. " alt="" coords="161,107,220,133"/><area shape="rect" id="node8" href="warpcore_8h.html#a3fba5669717435248ca7b7945a9b9d75" title="Push data placed in the TX rings via udp_tx() and similar methods out onto the link. " alt="" coords="153,157,228,184"/><area shape="rect" id="node3" href="backend_8h.html#a5bca37c30d432e0c16c44d8e0c087e5f" title="init_iov" alt="" coords="318,5,381,32"/><area shape="rect" id="node4" href="backend_8h.html#a7f3566b6a4f34920186abe13e80a2760" title="For a given buffer index, get a pointer to its beginning. " alt="" coords="445,5,528,32"/><area shape="rect" id="node7" href="eth_8c.html#a84b1cdcdafabcab37d01ffff5a0e1938" title="ether_ntoa_r" alt="" coords="302,107,397,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adfea277e13c34a07fc16cb4455988d71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arp_rx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structw__engine.html">w_engine</a> *const&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive an ARP packet, and react to it. </p>
<p>This function parses an incoming ARP packet contained in an Ethernet frame. For incoming ARP requests for the local interface, respond appropriately. For incoming ARP replies, updates the information in the <a class="el" href="structw__sock.html" title="A warpcore socket. ">w_sock</a> structures of all open connections, as needed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">w</td><td>Backend engine. </td></tr>
    <tr><td class="paramname">buf</td><td>Incoming packet. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="arp_8c_adfea277e13c34a07fc16cb4455988d71_cgraph.png" border="0" usemap="#arp_8c_adfea277e13c34a07fc16cb4455988d71_cgraph" alt=""/></div>
<map name="arp_8c_adfea277e13c34a07fc16cb4455988d71_cgraph" id="arp_8c_adfea277e13c34a07fc16cb4455988d71_cgraph">
<area shape="rect" id="node2" href="eth_8h.html#a01df29c04e9962e458497dc6d3ea7da3" title="Return a pointer to the first data byte inside the Ethernet frame in buf. " alt="" coords="315,5,387,32"/><area shape="rect" id="node3" href="arp_8c.html#a07cb7432c1d2686ebba35e7f85bd7b42" title="Modifies the ARP request in buf into a corresponding ARP reply, and sends it. " alt="" coords="139,81,213,108"/><area shape="rect" id="node10" href="arp_8c.html#a5857d8f27a0bcfa2b9dfe8308ac7befb" title="Update the MAC address associated with IPv4 address ip in the ARP cache. " alt="" coords="112,132,240,159"/><area shape="rect" id="node12" href="backend_8h.html#a03bc21b220cd1dbb450c6d3ea4f838c9" title="The IPv4 network prefix for the given IPv4 address and netmask. " alt="" coords="143,183,209,209"/><area shape="rect" id="node4" href="backend_8h.html#a3ea12851bfb4f83f0843560797d0241e" title="w_alloc_iov_base" alt="" coords="288,56,413,83"/><area shape="rect" id="node7" href="eth_8c.html#a81ff5f8f32f3f31da0fa707ebbb69b1b" title="Places an Ethernet frame into a TX ring. " alt="" coords="321,107,380,133"/><area shape="rect" id="node9" href="warpcore_8h.html#a3fba5669717435248ca7b7945a9b9d75" title="Push data placed in the TX rings via udp_tx() and similar methods out onto the link. " alt="" coords="313,157,388,184"/><area shape="rect" id="node5" href="backend_8h.html#a5bca37c30d432e0c16c44d8e0c087e5f" title="init_iov" alt="" coords="478,56,541,83"/><area shape="rect" id="node6" href="backend_8h.html#a7f3566b6a4f34920186abe13e80a2760" title="For a given buffer index, get a pointer to its beginning. " alt="" coords="605,56,688,83"/><area shape="rect" id="node8" href="eth_8c.html#a84b1cdcdafabcab37d01ffff5a0e1938" title="ether_ntoa_r" alt="" coords="462,107,557,133"/><area shape="rect" id="node11" href="arp_8c.html#ab57d1a0513207babcdb2f6a8a8295fae" title="Find the ARP cache entry associated with IPv4 address ip. " alt="" coords="295,208,406,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aad7ca3e847867c4dcc618d034aa42739"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ether_addr arp_who_has </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structw__engine.html">w_engine</a> *const&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>dip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the Ethernet MAC address for target IP address <code>dip</code>. </p>
<p>If there is no entry in the ARP cache for the Ethernet MAC address corresponding to IPv4 address <code>dip</code>, this function will block while attempting to resolve the address.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">w</td><td>Backend engine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dip</td><td>IP address that is the target of the ARP request</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Ethernet MAC address of <code>dip</code>. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="arp_8c_aad7ca3e847867c4dcc618d034aa42739_cgraph.png" border="0" usemap="#arp_8c_aad7ca3e847867c4dcc618d034aa42739_cgraph" alt=""/></div>
<map name="arp_8c_aad7ca3e847867c4dcc618d034aa42739_cgraph" id="arp_8c_aad7ca3e847867c4dcc618d034aa42739_cgraph">
<area shape="rect" id="node2" href="arp_8c.html#ab57d1a0513207babcdb2f6a8a8295fae" title="Find the ARP cache entry associated with IPv4 address ip. " alt="" coords="153,5,263,32"/><area shape="rect" id="node3" href="backend_8h.html#a3ea12851bfb4f83f0843560797d0241e" title="w_alloc_iov_base" alt="" coords="1176,313,1301,340"/><area shape="rect" id="node6" href="eth_8h.html#a01df29c04e9962e458497dc6d3ea7da3" title="Return a pointer to the first data byte inside the Ethernet frame in buf. " alt="" coords="616,1677,688,1704"/><area shape="rect" id="node7" href="eth_8c.html#a81ff5f8f32f3f31da0fa707ebbb69b1b" title="Places an Ethernet frame into a TX ring. " alt="" coords="179,749,237,776"/><area shape="rect" id="node9" href="warpcore_8h.html#a3fba5669717435248ca7b7945a9b9d75" title="Push data placed in the TX rings via udp_tx() and similar methods out onto the link. " alt="" coords="815,301,889,328"/><area shape="rect" id="node10" href="warpcore_8h.html#ab0508cfebe874ba0f3f2f230b4120e0d" title="Trigger netmap to make new received data available to w_rx(). " alt="" coords="171,487,245,513"/><area shape="rect" id="node4" href="backend_8h.html#a5bca37c30d432e0c16c44d8e0c087e5f" title="init_iov" alt="" coords="1350,313,1413,340"/><area shape="rect" id="node5" href="backend_8h.html#a7f3566b6a4f34920186abe13e80a2760" title="For a given buffer index, get a pointer to its beginning. " alt="" coords="1461,313,1544,340"/><area shape="rect" id="node8" href="eth_8c.html#a84b1cdcdafabcab37d01ffff5a0e1938" title="ether_ntoa_r" alt="" coords="427,1361,522,1388"/><area shape="rect" id="node11" href="conn_8c.html#a69924c834acb11f94887f781e4241397" title="rx" alt="" coords="325,487,363,513"/><area shape="rect" id="node47" href="eth_8c.html#a659282bc0d2ea46d2d4817aa9a2f46e7" title="Receive an Ethernet frame. " alt="" coords="315,1576,373,1603"/><area shape="rect" id="node50" href="backend_8h.html#a2242871306406e5b7f993f173bb9ff4a" title="is_pipe" alt="" coords="313,537,375,564"/><area shape="rect" id="node12" href="warpcore_8h.html#a5ac8908312be71047433d7e51059e240" title="Return warpcore engine serving w_sock s. " alt="" coords="613,208,691,235"/><area shape="rect" id="node13" href="warpcore_8h.html#af21a4e848c9199be729d01d20b8eea3d" title="Return any new data that has been received on a socket by appending it to the w_iov tail queue i..." alt="" coords="827,571,877,597"/><area shape="rect" id="node15" href="conn_8c.html#a743c431b40b906bbe9baad4456a0e7c5" title="rx_pkts" alt="" coords="442,841,507,868"/><area shape="rect" id="node41" href="conn_8c.html#a1a9a96efc3be558373804c33a60df6b9" title="tx" alt="" coords="455,1145,494,1172"/><area shape="rect" id="node42" href="conn_8c.html#a3b5d57a3e32f9d5cc8a8fccfb2e0f5a9" title="tx_ack" alt="" coords="621,1323,683,1349"/><area shape="rect" id="node43" href="conn_8h.html#a526357c19864e7579573160573a55c33" title="pn_for_epoch" alt="" coords="425,461,525,488"/><area shape="rect" id="node44" href="pn_8c.html#a7f1a6720a0e3506c0553d13ad865510f" title="needs_ack" alt="" coords="432,512,517,539"/><area shape="rect" id="node45" href="conn_8c.html#a4a5deef512e20b125b45899c6c80c6fc" title="free_conn" alt="" coords="435,563,514,589"/><area shape="rect" id="node46" href="quant_8h.html#a84a768c49cd352e1c8a109bda56ef3a6" title="q_rx_ready" alt="" coords="431,220,518,247"/><area shape="rect" id="node14" href="warpcore_8h.html#aa17e20ed409edbfe18aa79ae5da640ff" title="Return a spare w_iov from the pool of the given warpcore engine. " alt="" coords="1005,571,1096,597"/><area shape="rect" id="node16" href="quic_8c.html#a4e51fb8c9ebc5178b5131826ca26fb90" title="write_to_corpus" alt="" coords="595,461,709,488"/><area shape="rect" id="node17" href="quic_8h.html#ab7998b56ab1837fe5100fcffe1ed341f" title="alloc_iov" alt="" coords="815,892,889,919"/><area shape="rect" id="node18" href="warpcore_8h.html#a7644484ec2768497622b01587fc428ab" title="Return whether a socket is connected (i.e., w_connect() has been called on it) or not..." alt="" coords="603,664,701,691"/><area shape="rect" id="node19" href="conn_8c.html#a598b1a17cdaf1655a01250fedeaf9ded" title="get_conn_by_ipnp" alt="" coords="589,715,715,741"/><area shape="rect" id="node20" href="warpcore_8h.html#a0d68d8dde6e6c8f97f250c076c2e6b9a" title="Return the local port a w_sock is bound to. " alt="" coords="805,453,899,480"/><area shape="rect" id="node21" href="pkt_8c.html#ab205cb10435c8caf476391325b68eb66" title="dec_pkt_hdr_beginning" alt="" coords="973,1436,1128,1463"/><area shape="rect" id="node22" href="pkt_8h.html#a4bfe94fcdabe97c2898be1e6d6f5bc1d" title="is_lh" alt="" coords="1214,1336,1263,1363"/><area shape="rect" id="node23" href="pkt_8h.html#a05682f9ba0bc730b6f41b9597b756730" title="pkt_type_str" alt="" coords="1003,1297,1098,1324"/><area shape="rect" id="node24" href="pkt_8c.html#acda77940d975cd06aecc7f0aae9f2aa0" title="tx_vneg_resp" alt="" coords="602,867,702,893"/><area shape="rect" id="node25" href="conn_8h.html#a3b1788e29ec153bfcb2b7edc34c488a6" title="is_force_vneg_vers" alt="" coords="785,816,919,843"/><area shape="rect" id="node26" href="pkt_8c.html#adca4536b7322c8cdc93b43ec0b146118" title="log_pkt" alt="" coords="820,1221,884,1248"/><area shape="rect" id="node27" href="conn_8c.html#a370e079f6b872eb4fb70053eb3fd14a3" title="get_conn_by_cid" alt="" coords="592,1019,712,1045"/><area shape="rect" id="node28" href="conn_8c.html#a1ae0706a577e85efbcfacf517a329dbe" title="vers_supported" alt="" coords="597,765,707,792"/><area shape="rect" id="node29" href="conn_8c.html#a539ae556cdf40667c6ba127808df4f28" title="new_conn" alt="" coords="611,360,693,387"/><area shape="rect" id="node30" href="openssl_8h.html#a2514cd53d441b44478641a1643af622d" title="ptls_openssl_random\l_bytes" alt="" coords="779,505,925,546"/><area shape="rect" id="node31" href="quic_8h.html#ab2b6d16118c27c0f7c91dfac30c5d446" title="cid_cpy" alt="" coords="1017,403,1084,429"/><area shape="rect" id="node32" href="conn_8c.html#ae5beee50c7414b14d1efb1e3e8ebe1ee" title="add_dcid" alt="" coords="815,251,889,277"/><area shape="rect" id="node33" href="conn_8h.html#aa0fec7fdf46459b57e64dbe4e79a8dc4" title="conn_type" alt="" coords="1009,225,1092,252"/><area shape="rect" id="node34" href="tls_8c.html#a00ca93e0c4b1bdde1a2e97a4ef13373e" title="init_tls" alt="" coords="622,1069,682,1096"/><area shape="rect" id="node35" href="conn_8h.html#ad2372a4b6e27ada905f0604c1725abf1" title="cid_cmp" alt="" coords="617,1424,687,1451"/><area shape="rect" id="node37" href="conn_8c.html#abf07a95614d3f540d12bd3dc1bb4391f" title="get_cid_by_id" alt="" coords="601,1120,703,1147"/><area shape="rect" id="node38" href="conn_8c.html#a1b482fb3205708704bd66a120026461c" title="conns_by_ipnp_update" alt="" coords="575,1171,729,1197"/><area shape="rect" id="node39" href="pkt_8c.html#a4df410764fdb5a8d7468492748e0e3ea" title="dec_pkt_hdr_remainder" alt="" coords="573,1373,731,1400"/><area shape="rect" id="node40" href="conn_8c.html#ade748bfd0c0c5eb3a94c22bb27c37987" title="pkt_ok_for_epoch" alt="" coords="988,1512,1113,1539"/><area shape="rect" id="node36" href="boot_8c.html#a3c48b0d616482494ace467ca05e01642" title="memcmp" alt="" coords="814,1424,890,1451"/><area shape="rect" id="node48" href="ip_8c.html#a83c3b73e5ae32815530bdb103a0a59ee" title="Receive processing for an IPv4 packet. " alt="" coords="449,1677,500,1704"/><area shape="rect" id="node49" href="arp_8c.html#adfea277e13c34a07fc16cb4455988d71" title="Receive an ARP packet, and react to it. " alt="" coords="445,1627,504,1653"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1b84f8ec20a55f766fcfcb9cd2d0d1e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_arp_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structw__engine.html">w_engine</a> *const&#160;</td>
          <td class="paramname"><em>w</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free the ARP cache entries associated with engine <code>w</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">w</td><td>Backend engine. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Feb 28 2019 17:17:34 for quant by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
